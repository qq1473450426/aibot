# 项目启动说明

## 环境要求

- Python 3.8+
- Node.js 16+
- npm 或 yarn

## 快速开始

### 1. 安装 Python 依赖

```bash
pip install -r requirements.txt
```

### 2. 安装前端依赖

```bash
npm install
```

### 3. 初始化 Django 数据库

```bash
python manage.py migrate
```

### 4. 创建超级用户（可选）

```bash
python manage.py createsuperuser
```

### 5. 启动后端服务

在一个终端窗口运行：

```bash
python manage.py runserver
```

后端将在 `http://localhost:8000` 启动。

### 6. 启动前端开发服务器

在另一个终端窗口运行：

```bash
npm run dev
```

前端将在 `http://localhost:5173` 启动。

## API 端点

后端提供了以下 API 端点：

- `GET /api/health/` - 健康检查
- `GET /api/dashboard/` - 获取仪表盘数据
- `GET /api/strategies/` - 获取策略列表
- `POST /api/strategy/create/` - 创建新策略
- `POST /api/settings/exchange/` - 保存交易所配置
- `POST /api/settings/ai/` - 保存 AI 配置

## 项目结构

```
aibot/
├── Aibot/              # Django 后端配置
│   ├── settings.py     # Django 设置
│   ├── urls.py         # URL 路由
│   └── views.py        # API 视图
├── src/                # Vue 前端源码
│   ├── components/     # Vue 组件
│   ├── utils/          # 工具函数
│   │   └── api.js      # API 调用封装
│   └── App.vue         # 主组件
├── requirements.txt    # Python 依赖
└── package.json        # Node.js 依赖
```

## 配置说明

### CORS 配置

项目已配置 CORS，允许前端 `http://localhost:5173` 访问后端 API。

### 前后端集成

- Vite 开发服务器配置了代理，所有 `/api/*` 请求会自动转发到 Django 后端 `http://localhost:8000`
- 前端 API 工具类 (`src/utils/api.js`) 封装了所有 API 调用
- 后端 API 视图 (`Aibot/views.py`) 提供了 RESTful API 端点

## 开发说明

1. 前端开发：修改 `src/` 目录下的 Vue 文件，Vite 会自动热重载
2. 后端开发：修改 `Aibot/` 目录下的 Python 文件，Django 会自动重载
3. 添加新的 API 端点：
   - 在 `Aibot/views.py` 中添加视图函数
   - 在 `Aibot/urls.py` 中添加 URL 路由
   - 在 `src/utils/api.js` 中添加 API 调用函数
   - 在前端组件中使用新的 API 函数

## 常见问题

### 前端无法连接到后端

1. 确保后端服务正在运行（`http://localhost:8000`）
2. 检查浏览器控制台是否有 CORS 错误
3. 确认 `vite.config.js` 中的代理配置正确

### 后端启动失败

1. 检查是否安装了所有 Python 依赖：`pip install -r requirements.txt`
2. 检查 Django 设置路径是否正确（应该是 `Aibot.settings`）
3. 运行数据库迁移：`python manage.py migrate`

## 下一步

1. 实现数据库模型来持久化数据
2. 添加用户认证和权限管理
3. 实现真实的交易所 API 集成
4. 添加 WebSocket 支持以实现实时数据更新


